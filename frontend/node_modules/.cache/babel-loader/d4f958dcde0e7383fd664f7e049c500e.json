{"ast":null,"code":"//... means that you take the value of the array\nimport { AUTH_FORM_SUCCESS, AUTH_FORM_FAIL, AUTH_ERROR, USER_IS_LOADED, LOG_OUT } from \"../constants/auth.constants\";\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  users: [],\n  user: {},\n  errors: {},\n  isLoggedIn: false,\n  isAllowedToChangePassword: false,\n  isPasswordChanged: false,\n  isLoading: false\n};\n\nconst auth = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case AUTH_FORM_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      console.log(payload);\n      return { ...state,\n        ...payload,\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n        errors: {}\n      };\n\n    case AUTH_FORM_FAIL:\n    case AUTH_ERROR:\n    case LOG_OUT:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        ...payload,\n        errors: payload,\n        user: {},\n        isLoggedIn: false,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false\n      };\n\n    case USER_IS_LOADED:\n      localStorage.getItem(\"token\");\n      return { ...state,\n        ...payload,\n        user: payload,\n        errors: {},\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["C:/Users/rcoro/Documents/UCLA/ClassAssignments/Homework/project3/project-3/frontend/src/reducers/auth.reducer.js"],"names":["AUTH_FORM_SUCCESS","AUTH_FORM_FAIL","AUTH_ERROR","USER_IS_LOADED","LOG_OUT","initialState","token","localStorage","getItem","users","user","errors","isLoggedIn","isAllowedToChangePassword","isPasswordChanged","isLoading","auth","state","action","type","payload","setItem","console","log","removeItem"],"mappings":"AAAA;AACA,SACEA,iBADF,EAEEC,cAFF,EAGEC,UAHF,EAIEC,cAJF,EAKEC,OALF,QAMO,6BANP;AAQA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADY;AAEnBC,EAAAA,KAAK,EAAE,EAFY;AAGnBC,EAAAA,IAAI,EAAE,EAHa;AAInBC,EAAAA,MAAM,EAAE,EAJW;AAKnBC,EAAAA,UAAU,EAAE,KALO;AAMnBC,EAAAA,yBAAyB,EAAE,KANR;AAOnBC,EAAAA,iBAAiB,EAAE,KAPA;AAQnBC,EAAAA,SAAS,EAAE;AARQ,CAArB;;AAUA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAGZ,YAAT,EAAuBa,MAAvB,KAAkC;AAC7C,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AACA,UAAQC,IAAR;AACE,SAAKnB,iBAAL;AACEO,MAAAA,YAAY,CAACc,OAAb,CAAqB,OAArB,EAA8BD,OAAO,CAACd,KAAtC;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,aAAO,EACL,GAAGH,KADE;AAEL,WAAGG,OAFE;AAGLR,QAAAA,UAAU,EAAE,IAHP;AAILC,QAAAA,yBAAyB,EAAE,KAJtB;AAKLC,QAAAA,iBAAiB,EAAE,KALd;AAMLC,QAAAA,SAAS,EAAE,KANN;AAOLJ,QAAAA,MAAM,EAAE;AAPH,OAAP;;AASF,SAAKV,cAAL;AACA,SAAKC,UAAL;AACA,SAAKE,OAAL;AACEG,MAAAA,YAAY,CAACiB,UAAb,CAAwB,OAAxB;AACA,aAAO,EACL,GAAGP,KADE;AAEL,WAAGG,OAFE;AAGLT,QAAAA,MAAM,EAAES,OAHH;AAILV,QAAAA,IAAI,EAAE,EAJD;AAKLE,QAAAA,UAAU,EAAE,KALP;AAMLC,QAAAA,yBAAyB,EAAE,KANtB;AAOLC,QAAAA,iBAAiB,EAAE,KAPd;AAQLC,QAAAA,SAAS,EAAE;AARN,OAAP;;AAUF,SAAKZ,cAAL;AACEI,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB;AACA,aAAO,EACL,GAAGS,KADE;AAEL,WAAGG,OAFE;AAGLV,QAAAA,IAAI,EAAEU,OAHD;AAILT,QAAAA,MAAM,EAAE,EAJH;AAKLC,QAAAA,UAAU,EAAE,IALP;AAMLC,QAAAA,yBAAyB,EAAE,KANtB;AAOLC,QAAAA,iBAAiB,EAAE,KAPd;AAQLC,QAAAA,SAAS,EAAE;AARN,OAAP;;AAWF;AACE,aAAOE,KAAP;AAzCJ;AA2CD,CA7CD;;AA+CA,eAAeD,IAAf","sourcesContent":["//... means that you take the value of the array\nimport {\n  AUTH_FORM_SUCCESS,\n  AUTH_FORM_FAIL,\n  AUTH_ERROR,\n  USER_IS_LOADED,\n  LOG_OUT,\n} from \"../constants/auth.constants\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  users: [],\n  user: {},\n  errors: {},\n  isLoggedIn: false,\n  isAllowedToChangePassword: false,\n  isPasswordChanged: false,\n  isLoading: false,\n};\nconst auth = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case AUTH_FORM_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      console.log(payload);\n      return {\n        ...state,\n        ...payload,\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n        errors: {},\n      };\n    case AUTH_FORM_FAIL:\n    case AUTH_ERROR:\n    case LOG_OUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        ...payload,\n        errors: payload,\n        user: {},\n        isLoggedIn: false,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n      };\n    case USER_IS_LOADED:\n      localStorage.getItem(\"token\");\n      return {\n        ...state,\n        ...payload,\n        user: payload,\n        errors: {},\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}